package com.tss.model.test;

import java.util.function.Supplier;
import java.util.function.Consumer;
import java.util.function.Function;
import java.util.function.Predicate;

import com.tss.model.LoanEligible;

public class LoanEligibleTest {

	public static void main(String[] args) {

		LoanEligible person1 = new LoanEligible("om", 89, 53000, 65);

		Supplier<LoanEligible> person = () -> {
			return person1;

		};

		LoanEligible supplier = person.get();
		System.out.println("Name of the person: " + supplier.getName());
		System.out.println("Age of the person: " + supplier.getAge());
		System.out.println("Income of the person: " + supplier.getIncome());
		System.out.println("Credite Score of the person: " + supplier.getCreditScore());

		Predicate<LoanEligible> isEligible = (p) -> {
			boolean condition;
			if ((p.getAge() >= 21) && (p.getIncome() > 25000) && (p.getCreditScore() >= 650)) {
				condition = true;

			} else {
				condition = false;
			}
			return condition;

		};

		System.out.println();
		if (isEligible.test(supplier)) {
			Function<LoanEligible, Integer> amountToGet = (result) -> {

				int amount = (person1.getIncome() * (person1.getCreditScore() / 1000));

				return amount;

			};
			System.out.println("You are Eligible for the loan");
			Consumer<LoanEligible> consumer = (personC) -> {
				System.out.println("Loan Approved for " + personC.getName());
				System.out.println("Amount you get in loan is " + amountToGet.apply(supplier));

			};
			consumer.accept(supplier);

		} else {
			System.out.println("You are Not Eligible for the loan");
		}

	}

}
